# 法盾助手快速测试指南

## 🎯 测试目标

验证法盾助手的AI对话功能是否正常工作。

## ⚡ 快速测试（5分钟）

### 1. 打开系统

访问：http://localhost:5173

### 2. 打开助手

点击右下角的**蓝色圆形按钮**（聊天图标）

### 3. 测试基本对话

#### 测试1：法律咨询
输入：`合同纠纷的诉讼时效是多久？`

**预期结果：**
- 助手回复包含"三年"
- 引用《民法典》第一百八十八条
- 回复专业且易懂

#### 测试2：系统使用
输入：`如何生成起诉状？`

**预期结果：**
- 助手提供详细步骤
- 包含操作路径
- 可能有快捷链接

#### 测试3：案件查询
输入：`查询所有案件`

**预期结果：**
- 显示案件列表（表格形式）
- 包含案件编号、类型、状态
- 有"查看详情"按钮

#### 测试4：页面导航
输入：`打开案件列表`

**预期结果：**
- 助手回复"正在为您打开..."
- 自动跳转到案件列表页面
- 对话框自动关闭

#### 测试5：帮助信息
输入：`帮助`

**预期结果：**
- 显示助手功能列表
- 包含示例命令
- 格式清晰易读

### 4. 测试连续对话

**第一轮：**
输入：`什么是诉讼时效？`

**第二轮：**
输入：`如果超过时效怎么办？`

**预期结果：**
- 助手理解上下文
- 回答与第一轮相关
- 对话连贯

## 🔍 详细测试（15分钟）

### 测试场景1：法律知识咨询

```
问题1：民事诉讼的举证责任如何分配？
预期：引用《民事诉讼法》第64条，说明"谁主张，谁举证"原则

问题2：什么情况下可以申请财产保全？
预期：说明财产保全的条件和程序

问题3：劳动合同纠纷的仲裁时效是多久？
预期：说明一年的仲裁时效，引用相关法律
```

### 测试场景2：系统功能指导

```
问题1：如何添加新案件？
预期：提供详细步骤，可能包含导航链接

问题2：如何上传证据材料？
预期：说明上传流程和注意事项

问题3：费用计算器怎么使用？
预期：解释功能和使用方法
```

### 测试场景3：案件管理

```
命令1：查询审理中的案件
预期：显示状态为"审理中"的案件列表

命令2：查询民事案件
预期：显示类型为"民事"的案件列表

命令3：搜索合同纠纷案件
预期：显示包含"合同纠纷"关键词的案件
```

### 测试场景4：待办提醒

```
命令1：查看待办事项
预期：显示待处理的节点列表

命令2：查看超期节点
预期：显示超期的节点，标注超期天数

命令3：本周有哪些开庭
预期：显示本周的开庭安排
```

### 测试场景5：页面导航

```
命令1：打开数据分析
预期：跳转到数据分析页面

命令2：打开文书模板
预期：跳转到文书模板页面

命令3：打开费用计算器
预期：跳转到费用计算器页面
```

## 🧪 后端API测试

### 测试脚本

```bash
cd backend
node test-assistant.js
```

### 预期输出

```
========================================
   法盾助手功能测试
========================================

当前配置:
- AI提供商: qianwen
- API Key: sk-7a2b4e5...
- 模型: qwen-turbo

========================================
测试 1: 法律咨询 - 合同纠纷
========================================

✅ 对话成功
- 耗时: 5739 ms
- 回复长度: 614 字符

...

========================================
   测试总结
========================================

总测试数: 5
成功: 5
失败: 0
成功率: 100.0%

🎉 所有测试通过！法盾助手工作正常。
```

## ✅ 验收标准

### 功能性
- [ ] 能够正常打开助手对话框
- [ ] 能够发送消息并收到回复
- [ ] AI回复内容专业准确
- [ ] 引用法律依据正确
- [ ] 系统命令执行正常
- [ ] 页面导航功能正常

### 性能
- [ ] AI响应时间 < 10秒
- [ ] 系统命令响应 < 1秒
- [ ] 页面跳转流畅
- [ ] 无明显卡顿

### 用户体验
- [ ] 界面美观友好
- [ ] 消息显示清晰
- [ ] 操作按钮可用
- [ ] 错误提示友好
- [ ] 对话框可拖动

### 稳定性
- [ ] 无JavaScript错误
- [ ] 无网络请求失败
- [ ] 降级机制正常
- [ ] 异常处理完善

## 🐛 常见问题

### 问题1：助手没有回复

**检查项：**
1. 后端服务是否运行（http://localhost:3000）
2. 前端服务是否运行（http://localhost:5173）
3. 浏览器控制台是否有错误
4. 网络请求是否成功

**解决方法：**
```bash
# 重启后端
cd backend
npm start

# 重启前端
cd frontend
npm run dev
```

### 问题2：回复速度很慢

**可能原因：**
- AI服务响应慢（正常3-10秒）
- 网络延迟
- API配额限制

**解决方法：**
- 等待AI响应完成
- 检查网络连接
- 查看API使用情况

### 问题3：回复内容不准确

**改进方法：**
- 提供更具体的问题
- 添加更多上下文
- 分步骤提问
- 参考法律依据自行核实

### 问题4：系统命令不工作

**检查项：**
1. 命令格式是否正确
2. 是否有相关数据
3. 权限是否足够

**解决方法：**
- 参考帮助信息
- 使用快捷命令
- 查看系统日志

## 📊 测试报告模板

### 测试信息
- 测试日期：____
- 测试人员：____
- 系统版本：____
- AI提供商：____

### 测试结果

| 测试项 | 结果 | 备注 |
|--------|------|------|
| 基本对话 | ☐ 通过 ☐ 失败 | |
| 法律咨询 | ☐ 通过 ☐ 失败 | |
| 系统指导 | ☐ 通过 ☐ 失败 | |
| 案件查询 | ☐ 通过 ☐ 失败 | |
| 页面导航 | ☐ 通过 ☐ 失败 | |
| 连续对话 | ☐ 通过 ☐ 失败 | |
| 性能表现 | ☐ 通过 ☐ 失败 | |
| 用户体验 | ☐ 通过 ☐ 失败 | |

### 发现的问题
1. 
2. 
3. 

### 改进建议
1. 
2. 
3. 

### 总体评价
☐ 优秀  ☐ 良好  ☐ 一般  ☐ 需改进

## 🎯 下一步

测试通过后：
1. ✅ 标记功能为"已完成"
2. 📝 更新用户文档
3. 🎓 培训用户使用
4. 📊 收集用户反馈
5. 🔄 持续优化改进

---

**开始测试，体验智能法盾助手！** 🚀
