# 提醒中心功能详细说明

## 功能概览

### 1. 页面右上角提醒图标

#### 视觉效果
```
┌─────────────────────────────────────┐
│  智能案管系统              🔔(8) 👤  │  ← 页面头部
└─────────────────────────────────────┘
                              ↑
                         提醒图标+角标
```

#### 功能特性
- **红色角标**: 显示未读提醒数量（如：8）
- **最大显示**: 99+（超过99条显示为"99+"）
- **无未读**: 角标自动隐藏
- **点击交互**: 弹出提醒悬浮层

### 2. 提醒悬浮层

#### 布局结构
```
┌──────────────────────────────────┐
│ 提醒通知              8条未读     │ ← 头部
├──────────────────────────────────┤
│ ● 🔔 [节点到期]                  │
│   案件流程节点"证据收集"即将到期  │
│   请及时处理                      │
│   2小时前                         │ ← 未读提醒（有红点）
├──────────────────────────────────┤
│ ● ⚠️  [节点超期]                 │
│   案件流程节点"开庭准备"已超期    │
│   请尽快完成                      │
│   1天前                           │
├──────────────────────────────────┤
│   💰 [费用支付]                  │
│   案件费用"律师费"需要支付        │
│   金额：50000元                   │
│   刚刚                            │ ← 已读提醒（无红点）
├──────────────────────────────────┤
│   📄 [协作任务]                  │
│   协作任务"准备辩护材料"已分配    │
│   给您，请查看详情                │
│   3小时前                         │
├──────────────────────────────────┤
│          查看更多 →               │ ← 底部链接
└──────────────────────────────────┘
```

#### 交互说明
1. **点击单条提醒**
   - 自动标记为已读
   - 红点消失
   - 跳转至提醒中心页面

2. **点击"查看更多"**
   - 关闭悬浮层
   - 跳转至提醒列表页面

3. **自动刷新**
   - 每30秒自动获取最新数据
   - 保持提醒实时性

4. **空状态**
   ```
   ┌──────────────────────────────────┐
   │ 提醒通知              0条未读     │
   ├──────────────────────────────────┤
   │                                  │
   │         📭                       │
   │      暂无提醒                     │
   │                                  │
   └──────────────────────────────────┘
   ```

### 3. 提醒列表页面

#### 页面布局
```
┌─────────────────────────────────────────────────────────────┐
│ 提醒中心                                                      │
├─────────────────────────────────────────────────────────────┤
│ 筛选区域                                                      │
│ ┌─────────┐ ┌─────────┐ ┌──────────────┐ ┌────┐ ┌────┐    │
│ │状态筛选▼│ │类型筛选▼│ │🔍 搜索提醒内容│ │搜索│ │重置│    │
│ └─────────┘ └─────────┘ └──────────────┘ └────┘ └────┘    │
├─────────────────────────────────────────────────────────────┤
│ 提醒列表 (8)                    ┌──────────────┐ ┌────┐    │
│                                 │✓ 一键标为已读│ │刷新│    │
│                                 └──────────────┘ └────┘    │
├─────────────────────────────────────────────────────────────┤
│ 🔔 [节点到期] 案件流程节点"证据收集"即将到期，请及时处理      │
│    关联: process_node #5                        2小时前     │
│                                      [标记已读] [删除]      │
├─────────────────────────────────────────────────────────────┤
│ ⚠️  [节点超期] 案件流程节点"开庭准备"已超期，请尽快完成      │
│    关联: process_node #3                        1天前       │
│                                      [标记已读] [删除]      │
├─────────────────────────────────────────────────────────────┤
│ 💰 [费用支付] 案件费用"律师费"需要支付，金额：50000元        │
│    关联: cost #2                                刚刚        │
│                                               [删除]        │
├─────────────────────────────────────────────────────────────┤
│                    < 1 2 3 4 5 >                            │
└─────────────────────────────────────────────────────────────┘
```

#### 功能区域说明

##### A. 筛选区域
1. **状态筛选**
   - 全部
   - 未读
   - 已读

2. **类型筛选**
   - 全部
   - 节点到期
   - 节点超期
   - 费用支付
   - 协作任务
   - 系统通知

3. **关键词搜索**
   - 输入框支持搜索提醒内容
   - 按Enter键快速搜索
   - 支持中文搜索

4. **操作按钮**
   - 【搜索】: 执行搜索
   - 【重置】: 清空所有筛选条件

##### B. 内容区域头部
1. **标题和徽章**
   - 显示"提醒列表"
   - 显示未读数量徽章

2. **操作按钮**
   - 【一键标为已读】: 标记所有未读为已读
   - 【刷新】: 重新加载提醒列表

##### C. 提醒列表
1. **提醒卡片**
   - 类型图标和标签
   - 提醒内容
   - 关联信息
   - 时间显示
   - 操作按钮

2. **视觉状态**
   - 未读: 浅蓝色背景
   - 已读: 白色背景
   - 紧急: 左侧红色边框

3. **操作按钮**
   - 【标记已读】: 仅未读提醒显示
   - 【删除】: 所有提醒都显示

##### D. 分页区域
- 显示总数
- 每页数量选择
- 页码导航
- 快速跳转

### 4. 提醒类型和颜色

#### 类型图标
```
🔔 节点到期 (deadline)   - 橙色 #E6A23C
⚠️  节点超期 (overdue)    - 红色 #F56C6C
💰 费用支付 (payment)    - 蓝色 #409EFF
📄 协作任务 (task)       - 绿色 #67C23A
🔔 系统通知 (system)     - 灰色 #909399
```

#### 标签样式
```
[节点到期]  - warning (橙色)
[节点超期]  - danger (红色)
[费用支付]  - primary (蓝色)
[协作任务]  - success (绿色)
[系统通知]  - info (灰色)
```

### 5. 交互流程

#### 查看提醒流程
```
用户登录
   ↓
看到提醒角标(8)
   ↓
点击提醒图标
   ↓
弹出悬浮层
   ↓
浏览最近提醒
   ↓
点击单条提醒
   ↓
标记为已读 + 跳转至提醒中心
```

#### 处理提醒流程
```
进入提醒中心
   ↓
使用筛选器/搜索
   ↓
找到目标提醒
   ↓
查看详情
   ↓
标记已读/删除
   ↓
处理完成
```

#### 批量处理流程
```
进入提醒中心
   ↓
查看未读提醒列表
   ↓
点击"一键标为已读"
   ↓
确认操作
   ↓
所有未读变为已读
```

### 6. 响应式设计

#### 桌面端 (>1200px)
- 悬浮层宽度: 380px
- 显示完整内容
- 所有功能可用

#### 平板端 (768px-1200px)
- 悬浮层宽度: 320px
- 内容适当缩减
- 保持核心功能

#### 移动端 (<768px)
- 悬浮层全屏显示
- 简化操作按钮
- 优化触摸交互

### 7. 性能优化

#### 数据加载
- 悬浮层: 最多10条
- 列表页: 分页加载（默认20条/页）
- 自动刷新: 30秒间隔

#### 缓存策略
- 使用Pinia状态管理
- 避免重复请求
- 智能更新机制

#### 用户体验
- Loading状态提示
- 错误友好提示
- 操作即时反馈

### 8. 数据示例

#### 提醒数据结构
```json
{
  "id": 1,
  "relatedId": 5,
  "relatedType": "process_node",
  "taskType": "deadline",
  "scheduledTime": "2025-11-22T05:36:58.883Z",
  "content": "案件流程节点"证据收集"即将到期，请及时处理",
  "status": "unread",
  "createdAt": "2025-11-21T05:36:58.883Z"
}
```

#### API响应示例
```json
{
  "success": true,
  "data": [
    {
      "id": 1,
      "related_id": 5,
      "related_type": "process_node",
      "task_type": "deadline",
      "scheduled_time": "2025-11-22T05:36:58.883Z",
      "content": "案件流程节点"证据收集"即将到期，请及时处理",
      "status": "unread",
      "created_at": "2025-11-21T05:36:58.883Z"
    }
  ]
}
```

### 9. 错误处理

#### 网络错误
```
❌ 获取提醒列表失败
   请检查网络连接后重试
```

#### 操作失败
```
❌ 标记失败
   操作未成功，请重试
```

#### 空状态
```
📭 暂无提醒
   当前没有任何提醒信息
```

### 10. 可访问性

#### 键盘导航
- Tab键切换焦点
- Enter键确认操作
- Esc键关闭悬浮层

#### 屏幕阅读器
- 语义化HTML标签
- ARIA标签支持
- 清晰的文本描述

#### 颜色对比
- 符合WCAG 2.1标准
- 高对比度模式支持
- 色盲友好设计

---

## 总结

提醒中心功能已全面升级，提供了：
- ✅ 直观的视觉反馈
- ✅ 便捷的交互操作
- ✅ 完整的功能覆盖
- ✅ 优秀的用户体验
- ✅ 良好的性能表现

所有需求均已实现并经过测试验证！
