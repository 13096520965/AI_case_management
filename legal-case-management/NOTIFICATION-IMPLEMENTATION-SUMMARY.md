# 提醒通知实现 - 快速总结

## 核心改进

### 1. 提醒文案格式
```
原：【超期警告】AN202511000007（案号）案件节点"庭前准备"已超期 6 天...关联案件编码:AN202511000007（内部编号）

新：【超期警告】案号001案件节点"庭前准备"已超期 6 天...
   关联案件编码:AN202511000007
```

### 2. 显示特点
- ✓ 主文案和关联信息分行显示
- ✓ 没有案号的案件不显示案号，不显示null
- ✓ 右上角通知支持换行显示
- ✓ 点击提醒可跳转到案件详情页面

## 修改文件

| 文件 | 修改内容 |
|------|--------|
| `backend/src/services/notificationSchedulerEnhanced.js` | 更新提醒文案格式，支持换行 |
| `backend/src/controllers/notificationController.js` | 返回linkUrl和internalNumber |
| `frontend/src/views/notification/NotificationCenter.vue` | 支持换行显示和点击跳转 |
| `frontend/src/components/notification/NotificationPopover.vue` | 支持换行显示和点击跳转 |

## 提醒文案示例

### 有案号的提醒
```
案号001案件节点"立案受理"将在 1 天后到期（截止日期：2025-11-26 09:40:22），请及时处理
关联案件编码:AN202511000007
```

### 无案号的提醒
```
案件节点"节点1"将在 3 天后到期（截止日期：2025-11-28 00:00:00），请及时处理
```

### 超期提醒
```
【超期警告】2025111701案件节点"立案受理"已超期 4 天（截止日期：2025-11-21 10:05:44），请尽快处理
关联案件编码:AN202511000001
```

## 部署

1. 部署后端修改
2. 重启后端服务
3. 在通知中心查看新格式的提醒
4. 点击提醒验证跳转功能

## 验证

- [ ] 提醒文案正确显示
- [ ] 支持换行显示
- [ ] 点击可跳转到案件详情
- [ ] 没有案号的提醒不显示null
