# 提醒中心 - 快速启动指南

## 🚀 当前状态

✅ **后端服务**: 运行中 (Process 53, Port 3000)
✅ **前端服务**: 运行中 (Process 52, Port 5173)
✅ **测试数据**: 已生成 (31条提醒)
✅ **字段转换**: 已修复 (camelCase格式)

## 📊 数据概览

```
总提醒数: 31条
├── 未读: 20条 (64.5%)
└── 已读: 11条 (35.5%)

类型分布:
├── 费用支付: 8条
├── 节点到期: 7条
├── 协作任务: 7条
├── 系统通知: 5条
└── 节点超期: 4条
```

## 🌐 访问地址

### 前端应用
- **本地访问**: http://localhost:5173
- **网络访问**: http://10.2.68.252:5173

### 提醒中心页面
- **直接访问**: http://localhost:5173/notifications

## ✅ 功能测试清单

### 1. 提醒悬浮层测试
```
访问首页 → 点击右上角铃铛图标
```
- [ ] 红色角标显示 (20)
- [ ] 悬浮层弹出
- [ ] 显示最近10条提醒
- [ ] 未读提醒有红点
- [ ] 点击单条提醒跳转
- [ ] 点击"查看更多"跳转

### 2. 提醒列表页面测试
```
访问 /notifications 页面
```
- [ ] 显示31条提醒数据
- [ ] 未读徽章显示 (20)
- [ ] 提醒卡片正常渲染
- [ ] 图标和颜色正确显示

### 3. 搜索功能测试
```
在搜索框输入关键词
```
- [ ] 搜索"张三" - 查看特定案件
- [ ] 搜索"律师费" - 查看费用相关
- [ ] 搜索"超期" - 查看超期提醒
- [ ] 点击【搜索】按钮
- [ ] 按Enter键搜索
- [ ] 点击【重置】按钮

### 4. 筛选功能测试
```
使用下拉筛选器
```
- [ ] 筛选"未读"状态 (20条)
- [ ] 筛选"已读"状态 (11条)
- [ ] 筛选"节点到期" (7条)
- [ ] 筛选"节点超期" (4条)
- [ ] 筛选"费用支付" (8条)
- [ ] 筛选"协作任务" (7条)
- [ ] 筛选"系统通知" (5条)

### 5. 操作功能测试
```
测试各种操作按钮
```
- [ ] 点击【一键标为已读】
- [ ] 点击【刷新】按钮
- [ ] 点击单条【标记已读】
- [ ] 点击【删除】按钮
- [ ] 分页功能正常

## 🔧 故障排查

### 问题1: 页面无数据显示

**检查步骤**:
```bash
# 1. 验证数据库数据
node legal-case-management/backend/test-notification-center.js

# 2. 检查后端服务
curl http://localhost:3000/api/health

# 3. 查看浏览器控制台
# 打开开发者工具 → Console标签
# 查看是否有错误信息
```

**可能原因**:
- 未登录（需要认证token）
- 后端服务未启动
- API请求失败

### 问题2: 红色角标不显示

**检查步骤**:
```bash
# 验证未读数量
node legal-case-management/backend/test-notification-center.js
# 应显示: 未读: 20
```

**可能原因**:
- 数据未加载
- Store状态未更新
- 组件未正确挂载

### 问题3: 搜索/筛选无效

**检查步骤**:
- 打开浏览器开发者工具
- 查看Vue DevTools
- 检查filters状态

**可能原因**:
- 前端逻辑错误
- 数据格式不匹配

## 🔄 重新开始

如果遇到问题，可以完全重置：

### 1. 停止所有服务
```bash
# 在Kiro中执行
# 停止后端和前端进程
```

### 2. 重新生成数据
```bash
node legal-case-management/backend/scripts/seed-notification-data.js
```

### 3. 重启服务
```bash
# 后端
cd legal-case-management/backend
npm run dev

# 前端
cd legal-case-management/frontend
npm run dev
```

### 4. 清除浏览器缓存
```
Ctrl+Shift+R (Windows/Linux)
Cmd+Shift+R (Mac)
```

## 📝 测试数据示例

### 节点到期提醒
```
案件"张三诉李四合同纠纷案"流程节点"证据收集"将在明天到期，请及时处理
```

### 节点超期提醒（紧急）
```
【紧急】案件"李四合同案"流程节点"开庭准备"已超期2天，请尽快完成
```

### 费用支付提醒
```
案件"张三合同案"律师费需要支付，金额：50,000元，请及时安排
```

### 协作任务提醒
```
协作任务"准备张三案辩护材料"已分配给您，请在2天内完成
```

### 系统通知
```
系统提醒：案件"张三诉李四合同纠纷案"有新的文档上传，请查看
```

## 🎯 预期效果截图说明

### 提醒悬浮层
```
┌─────────────────────────────┐
│ 提醒通知         20条未读    │
├─────────────────────────────┤
│ ● 🔔 案件"张三案"证据收集   │
│      将在明天到期...         │
│      2小时前                 │
├─────────────────────────────┤
│ ● ⚠️  案件"李四案"开庭准备  │
│      已超期2天...            │
│      1天前                   │
├─────────────────────────────┤
│         查看更多 →           │
└─────────────────────────────┘
```

### 提醒列表页面
```
┌─────────────────────────────────────────────┐
│ 提醒中心                                      │
├─────────────────────────────────────────────┤
│ [状态▼] [类型▼] [🔍 搜索...] [搜索] [重置]   │
├─────────────────────────────────────────────┤
│ (20)              [一键标为已读] [刷新]       │
├─────────────────────────────────────────────┤
│ 🔔 [节点到期] 案件"张三案"证据收集...  2小时前│
│                            [标记已读] [删除] │
├─────────────────────────────────────────────┤
│ ⚠️  [节点超期] 案件"李四案"开庭准备...  1天前│
│                            [标记已读] [删除] │
└─────────────────────────────────────────────┘
```

## 📚 相关文档

- [实现说明](./NOTIFICATION-CENTER-IMPLEMENTATION.md)
- [功能详细说明](./NOTIFICATION-FEATURES.md)
- [更新日志](./NOTIFICATION-UPDATE-LOG.md)
- [修复日志](./NOTIFICATION-FIX-LOG.md)
- [最终总结](./NOTIFICATION-FINAL-SUMMARY.md)

## 💡 提示

1. **首次访问**: 需要先登录系统
2. **数据刷新**: 悬浮层每30秒自动刷新
3. **测试建议**: 按照测试清单逐项验证
4. **问题反馈**: 查看浏览器控制台错误信息

---

**当前版本**: v1.0.0
**最后更新**: 2025-11-21
**状态**: ✅ 就绪
